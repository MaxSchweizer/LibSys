<h2>Edit Book</h2>

<% if @book.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@book.errors.count, "error") %> prohibited
        this book from being created:
      </h2>
      <ul>
        <% @book.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
<% end %>

<%= form_tag book_path(@book), :method => :put do %>
    <% ['isbn', 'title', 'authors', 'description'].each do |item| %>
        <%= label_tag("book[#{item}]", item.capitalize) %><br>
        <%= text_field_tag("book[#{item}]", @book.send(item)) %><br>
    <% end %>
    <% if @book.checked_out? %>
        <%= radio_button_tag(:status, "false") %>
        <%= label_tag(:status_checked_in, "Available") %>
        <%= radio_button_tag(:status, "true", :checked => true) %>
        <%= label_tag(:status_checked_out, "Checked Out") %><br>
    <% else %>
        <%= radio_button_tag(:status, "false", :checked => true) %>
        <%= label_tag(:status_checked_in, "Available") %>
        <%= radio_button_tag(:status, "true") %>
        <%= label_tag(:status_checked_out, "Checked Out") %><br>
    <% end %>
    NOTE: If you are entering a 'Available' book then selecting a library member below will not do anything.<br>

    Book Status:
    <%= select_tag(:library_member, options_for_select(@library_members, @library_members.length)) %>
    <%= label_tag(:library_member, "Checked Out To This Library Member") %><br>

    <%= submit_tag("Submit") %>
<% end %>


<%= link_to "Show All Books", action: :index %>